{% extends "base.html" %}

{% block title %}Gestione Magazzino{% endblock %}

{% block content %}
<h1 style="text-align:center;">Gestione Magazzino</h1>
<div class="container">
    <div class="form-container left-form">
        <form method="post">
            <label for="descrizione">Descrizione:</label>
            <input type="text" id="descrizione" name="descrizione" class="input-small" required>
            <br>
            <label for="categoria">Categoria:</label>
            <select id="categoria" name="categoria" required>
                <option value="Analcolico">Analcolico</option>
                <option value="Birra">Birra</option>
                <option value="Food | Dolce">Food | Dolce</option>
                <option value="Food | Salato">Food | Salato</option>
                <option value="Olio">Olio</option>
                <option value="Sparkling">Sparkling</option>
                <option value="Spirit">Spirit</option>
                <option value="Tabella">Tabella</option>
                <option value="Vino Bianco">Vino Bianco</option>
                <option value="Vino Dolce">Vino Dolce</option>
                <option value="Vino Rosato">Vino Rosato</option>
                <option value="Vino Rosso">Vino Rosso</option>
            </select>
            <br>
            <label for="id_interno">Id Interno:</label>
            <input type="text" id="id_interno" name="id_interno" class="input-small">
            <br>
            <label for="codice_a_barre">Codice a Barre:</label>
            <input type="text" id="codice_a_barre" name="codice_a_barre" class="input-small">
            <br>
            <label for="prezzo_base">Prezzo Base:</label>
            <input type="number" id="prezzo_base" name="prezzo_base" class="input-small" step="0.01" required>
            <br>
            <label for="collocazione">Collocazione:</label>
            <select id="collocazione" name="collocazione">
                <option value="">Seleziona</option>
                <option value="Sala Principale">Sala Principale</option>
                <option value="Sala Secondaria">Sala Secondaria</option>
                <option value="Soppalco">Soppalco</option>
            </select>
            <br>
            <label for="quantita">Quantità:</label>
            <input type="number" id="quantita" name="quantita" class="input-small" min="0" value="0">
            <br>
            <input type="submit" value="Invia">
        </form>
    </div>

    <div class="form-container right-form">
        <h2>Ricerca Bottiglie</h2>
        <form method="post">
            <label for="query_descrizione">Cerca per Descrizione:</label>
            <input type="text" id="query_descrizione" name="query_descrizione" class="input-small" value="{{ query_descrizione }}">
            <br>
            <label for="query_categoria">Categoria:</label>
            <select id="query_categoria" name="query_categoria">
                <option value="">Tutti</option>
                <option value="Analcolico" {% if query_categoria == 'Analcolico' %}selected{% endif %}>Analcolico</option>
                <option value="Birra" {% if query_categoria == 'Birra' %}selected{% endif %}>Birra</option>
                <option value="Food | Dolce" {% if query_categoria == 'Food | Dolce' %}selected{% endif %}>Food | Dolce</option>
                <option value="Food | Salato" {% if query_categoria == 'Food | Salato' %}selected{% endif %}>Food | Salato</option>
                <option value="Olio" {% if query_categoria == 'Olio' %}selected{% endif %}>Olio</option>
                <option value="Sparkling" {% if query_categoria == 'Sparkling' %}selected{% endif %}>Sparkling</option>
                <option value="Spirit" {% if query_categoria == 'Spirit' %}selected{% endif %}>Spirit</option>
                <option value="Tabella" {% if query_categoria == 'Tabella' %}selected{% endif %}>Tabella</option>
                <option value="Vino Bianco" {% if query_categoria == 'Vino Bianco' %}selected{% endif %}>Vino Bianco</option>
                <option value="Vino Dolce" {% if query_categoria == 'Vino Dolce' %}selected{% endif %}>Vino Dolce</option>
                <option value="Vino Rosato" {% if query_categoria == 'Vino Rosato' %}selected{% endif %}>Vino Rosato</option>
                <option value="Vino Rosso" {% if query_categoria == 'Vino Rosso' %}selected{% endif %}>Vino Rosso</option>
            </select>
            <br>
            <label for="query_id_interno">Cerca per Id Interno:</label>
            <input type="text" id="query_id_interno" name="query_id_interno" class="input-small" value="{{ query_id_interno }}">
            <br>
            <label for="query_codice_a_barre">Cerca per Codice a Barre:</label>
            <input type="text" id="query_codice_a_barre" name="query_codice_a_barre" class="input-small" value="{{ query_codice_a_barre }}">
            <br>
            <label for="query_prezzo_base">Cerca per Prezzo Base:</label>
            <input type="number" id="query_prezzo_base" name="query_prezzo_base" class="input-small" step="0.01" value="{{ query_prezzo_base }}">
            <br>
            <label for="query_collocazione">Cerca per Collocazione:</label>
            <select id="query_collocazione" name="query_collocazione">
                <option value="">Tutti</option>
                <option value="Sala Principale" {% if query_collocazione == 'Sala Principale' %}selected{% endif %}>Sala Principale</option>
                <option value="Sala Secondaria" {% if query_collocazione == 'Sala Secondaria' %}selected{% endif %}>Sala Secondaria</option>
                <option value="Soppalco" {% if query_collocazione == 'Soppalco' %}selected{% endif %}>Soppalco</option>
            </select>
            <br>
            <label for="query_quantita">Cerca per Quantità:</label>
            <input type="number" id="query_quantita" name="query_quantita" class="input-small" min="0" value="{{ query_quantita }}">
            <br>
            <input type="submit" value="Cerca">
        </form>
    </div>
</div>

<div class="bottiglia-list">
    <h2>Bottiglie Registrate</h2>
    <ul>
        {% for bottiglia in bottiglie_info %}
            <li>
                Descrizione: {{ bottiglia.descrizione }} - Categoria: {{ bottiglia.categoria }} - Id Interno: {{ bottiglia.id_interno }} - Codice a Barre: {{ bottiglia.codice_a_barre }} - Prezzo: €{{ bottiglia.prezzo_base }} - Collocazione: {{ bottiglia.collocazione }} - Quantità: {{ bottiglia.quantita }}
                <br>
                <a href="/modifica/{{ bottiglia._id }}">Modifica</a> |
                <a href="/elimina/{{ bottiglia._id }}">Elimina</a>
            </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
