{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1>Modifica Prodotto</h1>
    <form method="POST" action="{{ url_for('modifica_configurazione', id=prodotto._id) }}">
        <div class="form-group">
            <label for="descrizione">Descrizione</label>
            <input type="text" id="descrizione" name="descrizione" class="form-control" value="{{ prodotto.descrizione }}" required>
        </div>
        <div class="form-group">
            <label for="prezzo_base">Prezzo Base (€)</label>
            <input type="number" step="0.01" id="prezzo_base" name="prezzo_base" class="form-control" value="{{ prodotto.prezzo_base }}" required>
        </div>
        <div class="form-group">
            <label for="categoria">Categoria</label>
            <select id="categoria" name="categoria" class="form-control" required>
                {% for categoria in categorie %}
                <option value="{{ categoria.nome }}" {% if categoria.nome == prodotto.categoria %}selected{% endif %}>{{ categoria.nome }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="reparto">Reparto</label>
            <select id="reparto" name="reparto" class="form-control" required>
                {% for reparto in reparti %}
                <option value="{{ reparto.nome }}" {% if reparto.nome == prodotto.reparto %}selected{% endif %}>{{ reparto.nome }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="costo">Costo (€)</label>
            <input type="number" step="0.01" id="costo" name="costo" class="form-control" value="{{ prodotto.costo }}">
        </div>
        <div class="form-group">
            <label for="codice_a_barre">Codice a Barre</label>
            <input type="text" id="codice_a_barre" name="codice_a_barre" class="form-control" value="{{ prodotto.codice_a_barre }}" required>
        </div>
        <!-- Rimuoviamo l'obbligatorietà del campo riquadro -->
        <div class="form-group">
            <label for="riquadro">Riquadro (opzionale)</label>
            <input type="text" id="riquadro" name="riquadro" class="form-control" value="{{ prodotto.riquadro }}">
        </div>
        <button type="submit" class="btn btn-primary">Salva Modifiche</button>
    </form>
</div>
{% endblock %}
